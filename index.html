<!DOCTYPE html>

<html>

    <head>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="main.css" type="text/css" />

        <script>

            var isX = true

            var gameOver = false

            var isEditable = true

            var twoPlayer = true

            function addXorO(event) {

                cellClicked = event.srcElement.id

                if (!hasBeenClicked(cellClicked)) {

                    html = document.getElementById(cellClicked).innerHTML

                    if (isEditable) {

                       if (isX) {

                            document.getElementById(cellClicked).innerHTML = "X"

                            document.getElementById("turn").innerHTML = "O's turn!"

                        } else {

                            document.getElementById(cellClicked).innerHTML = "O";

                            document.getElementById("turn").innerHTML = "X's turn!"

                        }

                        if (!twoPlayer) {

                            computerTurn()

                        }

                        gameOver = checkGameOver()

                        if (gameOver) {

                            if (isX) {

                              alert("Congrats X, you won!")  

                            } else {

                                alert("Congrats O, you won!")

                            }

                            isEditable = !isEditable

                        }

                        if (twoPlayer) {

                           isX = !isX 

                        }

                    }

                    

                }

                

            }

            

          function clicked()
          {
               document.getElementById('button').onclick == true;
                alert("button was clicked");
          } 
          
            function toggleTwoPlayer() {

                twoPlayer = !twoPlayer
                var twoplayers = false;

                if (twoPlayer) {
                    twoplayers = true;
                    document.getElementById("description").innerHTML = "Two Player Game";
                    

                }
                else if (twoplayers==false) 
                {
                    twoplayers= false;
                    document.getElementById("description").innerHTML = "One Player Game"

                }
            }
            function computerTurn() {

                computerDone = false

                console.log('computer turn')

                values = []

                for (i = 1; i < 10; i++) {

                    html = document.getElementById(i.toString()).innerHTML

                    values.push(html)

                }

                while (!computerDone) {

                    var random = Math.floor(Math.random() * 9)

                    console.log('random', random)

                    if (values[random] === "") {

                        document.getElementById(random + 1).innerHTML = "O"

                        computerDone = true

                    }

                    if (values.filter(el => el === "").length === 0) {

                        computerDone = true

                    }

                }

            }

            

            function hasBeenClicked(cell) {

                if (document.getElementById(cell).innerHTML !== "") {

                    return true

                } else {

                    return false

                }

            }

            

            function checkGameOver() {

                values = []

                for (i = 1; i < 10; i++) {

                    html = document.getElementById(i.toString()).innerHTML

                    values.push(html)

                }

                if (values[0] === values[1] && values[0] === values[2]) {

                    if(values[0] !== "") {

                        document.getElementById("1").style.backgroundColor = "green"

                        document.getElementById("2").style.backgroundColor = "green"

                        document.getElementById("3").style.backgroundColor = "green"

                      return true  

                    }

                } else if (values[0] === values[3] && values[0] === values[6]) {

                    if(values[0] !== "") {

                        document.getElementById("1").style.backgroundColor = "green"

                        document.getElementById("4").style.backgroundColor = "green"

                        document.getElementById("7").style.backgroundColor = "green"

                      return true  

                    }

                } else if (values[2] === values[5] && values[2] === values[8]) {

                    if(values[2] !== "") {

                        document.getElementById("3").style.backgroundColor = "green"

                        document.getElementById("6").style.backgroundColor = "green"

                        document.getElementById("9").style.backgroundColor = "green"

                      return true  

                    }

                } else if (values[6] === values[7] && values[6] === values[8]) {

                    if(values[6] !== "") {

                        document.getElementById("7").style.backgroundColor = "green"

                        document.getElementById("8").style.backgroundColor = "green"

                        document.getElementById("9").style.backgroundColor = "green"

                      return true  

                    }

                } else if (values[3] === values[4] && values[3] === values[5]) {

                    if(values[3] !== "") {

                        document.getElementById("4").style.backgroundColor = "green"

                        document.getElementById("5").style.backgroundColor = "green"

                        document.getElementById("6").style.backgroundColor = "green"

                      return true  

                    }

                } else if (values[1] === values[4] && values[1] === values[7]) {

                    if(values[1] !== "") {

                        document.getElementById("2").style.backgroundColor = "green"

                        document.getElementById("5").style.backgroundColor = "green"

                        document.getElementById("8").style.backgroundColor = "green"

                      return true  

                    }

                } else if (values[0] === values[4] && values[0] === values[8]) {

                    if(values[0] !== "") {

                        document.getElementById("1").style.backgroundColor = "green"

                        document.getElementById("5").style.backgroundColor = "green"

                        document.getElementById("9").style.backgroundColor = "green"

                      return true  

                    }

                } else if (values[2] === values[4] && values[2] === values[6]) {

                    if(values[2] !== "") {

                        document.getElementById("3").style.backgroundColor = "green"

                        document.getElementById("5").style.backgroundColor = "green"

                        document.getElementById("7").style.backgroundColor = "green"

                      return true  

                    }

                } else if (values.filter(el => el === "").length === 0) {

                    document.getElementById("turn").innerHTML = "It's a draw! Click 'New Game' to play again!"

                    document.getElementById("1").style.backgroundColor = "red"

                    document.getElementById("2").style.backgroundColor = "red"

                    document.getElementById("3").style.backgroundColor = "red"

                    document.getElementById("4").style.backgroundColor = "red"

                    document.getElementById("5").style.backgroundColor = "red"

                    document.getElementById("6").style.backgroundColor = "red"

                    document.getElementById("7").style.backgroundColor = "red"

                    document.getElementById("8").style.backgroundColor = "red"

                    document.getElementById("9").style.backgroundColor = "red"

                    alert("CAT!  It's a draw!")

                    return false

                } else {

                    return false

                }

            }

        </script>

    </head>

    <body>
        
        <nav class="navbar navbar-light bg-light">
             <form class="form-inline">
                <button class="btn btn-outline-success" type="button"><a href="http://18.188.78.10/group%20project/jokes.html">Jokes</a></button>
                <button class="btn btn-sm btn-outline-secondary" type="button">Github</button>
             </form>
        </nav>

        <div class="center">
            <div class="button" style="display:inline-block;margin-right: 60x; margin-top:60px">

                <button onClick="toggleTwoPlayer(event)" id="onePlayer">One Player</button>
            </div>
            
            <div class="button" style="display:inline-block;margin-right: 60px; margin-top:60px">

                <button onClick="toggleTwoPlayer(event)" id="twoPlayers">Two Player</button> 
            </div>
            
            <div style="display:inline-block; margin-left:40px;">

               <h1 >Tic Tac Toe</h1> 

            </div>

            <div style="display:inline-block; margin-left: 40px; margin-top:30px;">

                <button class="button" onClick="window.location.reload()">New Game</button> 

            </div>

        </div>

        <h3 class="center" id="description"><font color="RebeccaPurple">Please choose a game</font></h3>

        <table class="middle" style="width:600px; height:500px;">

            <tr>

                <td id="1"; onClick="addXorO(event)"></td>

                <td id="2";class="vertical" onClick="addXorO(event)"></td>

                <td id="3"; onClick="addXorO(event)"></td>

            </tr>

            <tr>

                <td id="4";class="horizontal" onClick="addXorO(event)"></td>

                <td id="5";class="vertical horizontal" onClick="addXorO(event)"></td>

                <td id="6";class="horizontal" onClick="addXorO(event)"></td>

            </tr>

            <tr>

                <td id="7"; onClick="addXorO(event)"></td>

                <td id="8";class="vertical" onClick="addXorO(event)"></td>

                <td id="9"; onClick="addXorO(event)"></td>

            </tr>

        </table>

        <div class="center" style="padding-top:10px;" id="turn">

            X's turn!

        </div>
    </body>

</html>
